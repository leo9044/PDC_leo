# Layer configuration for meta-headunit
# This layer provides automotive head unit applications for ECU2 main display (HDMI-1)
BBPATH .= ":${LAYERDIR}"

# We have a conf and classes directory, add to BBPATH
BBPATH .= ":${LAYERDIR}"

# We have recipe directories, add to BBFILES
BBFILES += "${LAYERDIR}/recipes-*/*/*.bb \
            ${LAYERDIR}/recipes-*/*/*.bbappend"

# Layer identification and priority
BBFILE_COLLECTIONS += "meta-headunit"
BBFILE_PATTERN_meta-headunit = "^${LAYERDIR}/"

# CRITICAL: Priority set to 15 to ensure meta-headunit recipes take precedence
# over recipes from meta-openembedded, meta-qt5, and other layers (priority <= 10)
BBFILE_PRIORITY_meta-headunit = "15"

# Layer dependencies
LAYERDEPENDS_meta-headunit = "core meta-middleware"

# Yocto series compatibility - supports current and future LTS releases
LAYERSERIES_COMPAT_meta-headunit = "kirkstone langdale mickledore nanbield scarthgap"
